generator client {
  provider        = "prisma-client-js"  
  previewFeatures = ["referentialIntegrity"]
  binaryTargets = ["native", "rhel-openssl-1.0.x"]
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model sitemap {
  id          Int       @id @default(autoincrement())
  name        String?   @db.VarChar(50)
  url         String    @db.VarChar(250)
  enabled     Boolean?  @default(true)
  lastRun     DateTime? @map("last_run")
  nextRun     DateTime  @default(now()) @map("next_run")
  status      Int       @default(0) 
}

model selector {
  id                  Int     @id @default(autoincrement())
  type_id             Int
  sitemap_id          Int
  order               Int     @db.TinyInt
  multiple            Boolean @db.TinyInt
  data                String  @db.VarChar(250)
  name                String? @db.VarChar(50)

  @@index([id, type_id, sitemap_id])
}

model type {
  id       Int     @id @default(autoincrement())
  element  String  @db.VarChar(45)
  label    String? @db.VarChar(45)
}

model sitemap_result {
  id          Int     @id @default(autoincrement())
  sitemap_id  Int
  selector_id Int
  data        String    @db.VarChar(250)
  url         String?   @db.VarChar(250)
  createdAt  DateTime  @default(now()) @map("created_at")
  
  @@index([sitemap_id, selector_id])
}